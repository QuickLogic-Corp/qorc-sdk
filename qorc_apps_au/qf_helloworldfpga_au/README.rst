QuickFeather HelloWorldFPGA Application (AU)
============================================

This test/example contains the the fpga design available as an independent component, it is basically only the FPGA part of the :code:`qf_apps/qf_helloworldhw` application project.

The FPGA design is a simple LED-toggle, which toggles the green LED regularly.

How To
------

Note that, all the commands below are run from the root of this directory.

- Ensure Aurora is initialized and ready:

  ::

    cd ~/aurora_64/ && source setup_au.sh && export quicklogic_LICENSE=<PATH_TO_LIC_FILE> && cd -

- Ensure JLinkExe is available in path for loading the FPGA design:

  ::

    export PATH=<PATH_TO_JLINK_INSTALL_DIR>:$PATH

- Clean the design using:

  ::

    .scaffolding/clean_fpga_au.sh

  OR, manually delete the files generated by Aurora

- Build the design using:

  ::

    .scaffolding/build_fpga_au.sh

  OR, directly with the command:

  ::

    aurora --console --compile_design helloworldfpga.v --top helloworldfpga -o helloworldfpga.qdc -d QLAL4S3B -k PU64 --run_all

- Load and run the design on the board using JLinkExe, using:

  ::

    .scaffolding/load_fpga_jlink_au.sh

  OR, directly using JLinkExe:

  Note that we have to add the following lines at the top of the generated JLink Commander File (fpga/rtl/config_bit_gen/QLAL4S3B_helloworldfpga.jlink) :

  ::

    connect
    RSetType 3
    r

  To ensure that we first keep the M4 Core in reset (using the scipt :code:`.scaffolding/load_fpga_jlink.sh` does this automatically)

  ::

    JLinkExe -Device Cortex-M4 -If SWD -Speed 4000 -commandFile fpga/rtl/config_bit_gen/QLAL4S3B_helloworldfpga.jlink

